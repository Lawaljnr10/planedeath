<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>HTML5 Plane Shooter â€“ Water Blast Edition</title>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      overflow: hidden;
      background-color: #000;
      font-family: sans-serif;
    }
    canvas {
      display: block;
    }
  </style>
</head>
<body>
  <canvas id="gameCanvas"></canvas>
  <script>
    // Setup the canvas and context
    const canvas = document.getElementById("gameCanvas");
    const ctx = canvas.getContext("2d");
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
    
    // The player's plane object
    const player = {
      x: canvas.width / 2,
      y: canvas.height - 60,
      width: 40,
      height: 40,
      speed: 5,
      shootCooldown: 0,
      movingLeft: false,
      movingRight: false,
      movingUp: false,
      movingDown: false
    };
    
    // Array for water projectiles
    let projectiles = [];
    
    // Keyboard controls for moving and shooting
    document.addEventListener("keydown", (e) => {
      if (e.code === "ArrowLeft") player.movingLeft = true;
      if (e.code === "ArrowRight") player.movingRight = true;
      if (e.code === "ArrowUp") player.movingUp = true;
      if (e.code === "ArrowDown") player.movingDown = true;
      if (e.code === "Space") {
        if (player.shootCooldown <= 0) {
          // Add a water projectile that moves upward
          projectiles.push({ x: player.x, y: player.y, speed: 7 });
          player.shootCooldown = 15; // Cooldown in frames
        }
      }
    });
    
    document.addEventListener("keyup", (e) => {
      if (e.code === "ArrowLeft") player.movingLeft = false;
      if (e.code === "ArrowRight") player.movingRight = false;
      if (e.code === "ArrowUp") player.movingUp = false;
      if (e.code === "ArrowDown") player.movingDown = false;
    });
    
    // Draw the player's plane using a stylized airplane shape
    function drawPlayer() {
      ctx.save();
      ctx.translate(player.x, player.y);
      // Set a color for the plane
      ctx.fillStyle = "#1E90FF"; // Dodger Blue
      ctx.beginPath();
      // Draw a simple airplane shape:
      // Left wing tip
      ctx.moveTo(-20, 0);
      ctx.lineTo(-10, -10);
      // Nose of the plane
      ctx.lineTo(0, -5);
      // Right wing tip
      ctx.lineTo(10, -10);
      ctx.lineTo(20, 0);
      // Tail of the plane
      ctx.lineTo(0, 10);
      ctx.closePath();
      ctx.fill();
      ctx.restore();
    }
    
    // Draw water projectiles with a radial gradient for a liquid effect
    function drawProjectiles() {
      projectiles.forEach((proj) => {
        // Create a water-like gradient from light blue to blue
        let grad = ctx.createRadialGradient(proj.x, proj.y, 0, proj.x, proj.y, 7);
        grad.addColorStop(0, "#ADD8E6"); // Light Blue
        grad.addColorStop(1, "#0000FF"); // Blue
        ctx.fillStyle = grad;
        ctx.beginPath();
        ctx.arc(proj.x, proj.y, 7, 0, Math.PI * 2);
        ctx.fill();
      });
    }
    
    // Update the player's position based on key presses
    function updatePlayer() {
      if (player.movingLeft && player.x - player.width/2 > 0) player.x -= player.speed;
      if (player.movingRight && player.x + player.width/2 < canvas.width) player.x += player.speed;
      if (player.movingUp && player.y - player.height/2 > 0) player.y -= player.speed;
      if (player.movingDown && player.y + player.height/2 < canvas.height) player.y += player.speed;
      if (player.shootCooldown > 0) player.shootCooldown--;
    }
    
    // Update water projectile positions and remove those off-screen
    function updateProjectiles() {
      projectiles.forEach((proj, index) => {
        proj.y -= proj.speed;
        if (proj.y < 0) {
          projectiles.splice(index, 1);
        }
      });
    }
    
    // Main update function that handles all updates
    function updateAll() {
      updatePlayer();
      updateProjectiles();
    }
    
    // Main game loop using requestAnimationFrame for smooth animation
    function gameLoop() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      updateAll();
      drawPlayer();
      drawProjectiles();
      requestAnimationFrame(gameLoop);
    }
    
    // Start the game loop
    gameLoop();
    
    // Adjust the canvas size when the window is resized
    window.addEventListener("resize", () => {
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
    });
  </script>
</body>
</html>
